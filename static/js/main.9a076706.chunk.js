(this["webpackJsonppractice-project"]=this["webpackJsonppractice-project"]||[]).push([[0],{11:function(e,t,n){e.exports={title:"emotion_title__1qM1t",emotionList:"emotion_emotionList__3O6Yy",emotionButton:"emotion_emotionButton__1XAze"}},17:function(e,t,n){e.exports={header:"header_header__v9FKw",counter:"header_counter__1BAsj"}},18:function(e,t,n){e.exports={add:"add_add__2GMyP",btn:"add_btn__Neqr_"}},29:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var c=n(3),r=n.n(c),a=n(20),i=n.n(a),o=(n(29),n(12)),s=n(15),u=n(17),d=n.n(u),j=n(1),l=function(e){var t=e.trackerTotalCount;return Object(j.jsxs)("header",{className:d.a.header,children:[Object(j.jsxs)("h2",{children:["Chaemin,",Object(j.jsx)("br",{})," How Was Your Today? \ud83d\ude42"]}),Object(j.jsx)("div",{className:d.a.counter,children:t})]})},b=n(4),f=n(18),m=n.n(f),p=function(e){var t=e.onAddEmotion,n=Object(c.useRef)(),r=Object(c.useRef)();return Object(j.jsx)("section",{className:m.a.add,children:Object(j.jsxs)("form",{ref:n,children:[Object(j.jsx)("input",{type:"text",placeholder:"Add Your Emotion",ref:r}),Object(j.jsx)("button",{onClick:function(e){e.preventDefault();var c={id:Object(b.a)(),emotion:r.current.value,description:[]};r.current.value&&t(c),n.current.reset()},className:m.a.btn,children:"Add"})]})})},O=n(24),_=n(6),k=n.n(_),x=function(e){var t=e.tracker,n=e.onUpdate,r=Object(c.useRef)(),a=Object(c.useRef)();return Object(j.jsx)("form",{onSubmit:function(e){e.preventDefault();var c=[],i=new Date,s={id:Object(b.a)(),text:a.current.value,date:"".concat(i.getFullYear(),".").concat(i.getMonth()+1,".").concat(i.getDate(),".").concat(new Intl.DateTimeFormat("ko-KR",{weekday:"short"}).format(i))};c=t.description?[].concat(Object(O.a)(t.description),[s]):[s];var u=Object(o.a)(Object(o.a)({},t),{},{description:c});s&&n(u),r.current.reset()},ref:r,children:Object(j.jsxs)("div",{className:k.a.trackerDesc,children:[Object(j.jsx)("input",{type:"text",className:k.a.input,placeholder:"Write your feelings in a row simply.",ref:a}),Object(j.jsx)("button",{type:"submit",className:k.a.inputBtn,children:Object(j.jsx)("i",{className:"fas fa-plus"})})]})})},v=Object(c.memo)((function(e){var t=e.tracker,n=e.onUpdate,r=Object(c.useRef)(),a=t.description,i=function(){var e=a.filter((function(e){return e.id!==r.current.value}));t.description=e,n(t)};return Object(j.jsx)("ul",{className:k.a.descList,children:a.map((function(e){return Object(j.jsxs)("li",{children:[e.text,Object(j.jsx)("span",{className:k.a.date,children:e.date}),Object(j.jsx)("input",{className:k.a.blind,ref:r,value:e.id,readOnly:!0}),Object(j.jsx)("button",{type:"button",className:k.a.deleteBtn,onClick:i,children:"X"})]},Object(b.a)())}))})})),h=function(e){var t=e.tracker,n=e.onUpdate;return Object(j.jsxs)(j.Fragment,{children:[t.description&&Object(j.jsx)(v,{tracker:t,onUpdate:n}),Object(j.jsx)(x,{tracker:t,onUpdate:n})]})},N=n(7),y=n.n(N),L=(n(31),Object(c.memo)((function(e){var t=e.onDelete,n=e.onUpdate,c=e.tracker;return Object(j.jsxs)("li",{children:[Object(j.jsxs)("div",{className:y.a.trackerSection,children:[Object(j.jsx)("div",{className:y.a.trackerName,children:c.emotion}),Object(j.jsx)("div",{className:y.a.count,children:c.description?c.description.length:0}),Object(j.jsx)("button",{type:"button",className:y.a.delete,onClick:function(){t(c)},children:Object(j.jsx)("i",{className:"fas fa-trash-alt"})})]}),Object(j.jsx)("div",{children:Object(j.jsx)(h,{tracker:c,onUpdate:n})})]})}))),D=Object(c.memo)((function(e){var t=e.tracker,n=e.onDelete,c=e.onUpdate;return Object(j.jsx)("ul",{className:y.a.trackerList,children:Object.keys(t).map((function(e){return Object(j.jsx)(L,{onDelete:n,onUpdate:c,tracker:t[e]},e)}))})})),g=n(11),U=n.n(g),C=function(e){var t=e.emotion,n=e.onUpdate,r=Object(c.useRef)();return Object(j.jsx)("button",{type:"button",className:U.a.emotionButton,onClick:function(e){var t={id:Object(b.a)(),emotion:e.target.innerText,count:0,description:[]};n(t)},ref:r,children:t.emotion})},B=function(e){var t=e.emotion,n=e.onUpdate;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h3",{className:U.a.title,children:"Emotion List"}),Object(j.jsx)("ul",{className:U.a.emotionList,children:Object.keys(t).map((function(e){return Object(j.jsx)("li",{children:Object(j.jsx)(C,{emotion:t[e],onUpdate:n})},t[e].id)}))})]})},E=function(e){var t=e.firebase,n=Object(c.useState)(0),r=Object(s.a)(n,2),a=r[0],i=r[1],u=Object(c.useState)({}),d=Object(s.a)(u,2),f=d[0],m=d[1],O=Object(c.useState)({}),_=Object(s.a)(O,2),k=_[0],x=_[1];Object(c.useEffect)((function(){var e=t.load((function(e){m(e),i(Object.keys(e).length)}),"tracker");return function(){return e()}}),[t]),Object(c.useEffect)((function(){var e=t.load((function(e){x(e)}),"emotion");return function(){return e()}}),[t]);var v=function(e){m((function(t){var n=Object(o.a)({},t);return n[e.id]=e,n})),t.save(e)};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(l,{trackerTotalCount:a}),Object(j.jsx)(p,{onAddEmotion:function(e){v(e);var n={id:Object(b.a)(),emotion:e.emotion};t.saveEmotion(n)}}),Object(j.jsx)(B,{emotion:k,onUpdate:v}),f&&Object(j.jsx)(D,{tracker:f,onDelete:function(e){m((function(t){Object.keys(t).filter((function(t){return t!==e.id}))})),t.remove(e)},onUpdate:v})]})};var F=function(e){var t=e.firebase;return Object(j.jsx)(E,{firebase:t})},w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,38)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)}))},R=n(21),S=n(22),T=n(23),A=(n(34),T.a.initializeApp({apiKey:"AIzaSyC64PNNqG6bE1g9n_9ZMetR0i8VanELn_I",authDomain:"emotion-tracker-46878.firebaseapp.com",projectId:"emotion-tracker-46878",storageBucket:"emotion-tracker-46878.appspot.com",appId:"1:1004907245469:web:764dab67c2c7af9e624974",measurementId:"G-VQ13W4YGME",databaseURL:"https://emotion-tracker-46878-default-rtdb.firebaseio.com/"}).database()),I=new(function(){function e(){Object(R.a)(this,e)}return Object(S.a)(e,[{key:"save",value:function(e){A.ref("users/tracker/".concat(e.id)).set(e)}},{key:"load",value:function(e,t){var n=A.ref("users/".concat(t));return n.on("value",(function(t){var n=t.val();n&&e(n)})),function(){return n.off()}}},{key:"remove",value:function(e){A.ref("users/tracker/".concat(e.id)).remove()}},{key:"saveEmotion",value:function(e){A.ref("users/emotion/".concat(e.id)).set(e)}}]),e}());i.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(F,{firebase:I})}),document.getElementById("root")),w()},6:function(e,t,n){e.exports={trackerDesc:"trackerDescription_trackerDesc__36-y1",input:"trackerDescription_input__7mK-9",inputBtn:"trackerDescription_inputBtn__26eem",descList:"trackerDescription_descList__3OTgx",date:"trackerDescription_date__2Ce-q",deleteBtn:"trackerDescription_deleteBtn__1fZch",blind:"trackerDescription_blind__3osT2"}},7:function(e,t,n){e.exports={trackerList:"trackerList_trackerList__1YRCd",trackerName:"trackerList_trackerName__3bQFv",trackerSection:"trackerList_trackerSection__18CUL",count:"trackerList_count__WZCGD",btn:"trackerList_btn__oQVcp",plus:"trackerList_plus__34mgX",minus:"trackerList_minus__1Ufmf",delete:"trackerList_delete__3vEZ1"}}},[[37,1,2]]]);
//# sourceMappingURL=main.9a076706.chunk.js.map