(this["webpackJsonppractice-project"]=this["webpackJsonppractice-project"]||[]).push([[0],{11:function(e,t,n){e.exports={trackerList:"trackerList_trackerList__1YRCd",trackerName:"trackerList_trackerName__3bQFv",trackerSection:"trackerList_trackerSection__18CUL",count:"trackerList_count__WZCGD",btn:"trackerList_btn__oQVcp",plus:"trackerList_plus__34mgX",minus:"trackerList_minus__1Ufmf",delete:"trackerList_delete__3vEZ1",guide:"trackerList_guide__2jsU8",tracker:"trackerList_tracker__KNXk3",title:"trackerList_title__1yr0t",tip:"trackerList_tip__6uWJm"}},12:function(e,t,n){e.exports={guide:"emotion_guide__2UEaE",emotionList:"emotion_emotionList__3O6Yy",emotionButton:"emotion_emotionButton__1XAze",editBtn:"emotion_editBtn__1HnM4",tip:"emotion_tip__1vhLs",emotion:"emotion_emotion__2qzWs",title:"emotion_title__1qM1t",emotionTag:"emotion_emotionTag__3uiNm",emotionDelete:"emotion_emotionDelete__nR2ZO"}},15:function(e,t,n){e.exports={login:"login_login__19aQM",box:"login_box__2ruKU",otherTxt:"login_otherTxt__eU5TY",otherLogin:"login_otherLogin__3MztJ",googleBtn:"login_googleBtn__33d9h",githubBtn:"login_githubBtn__2tb12",loginbtn:"login_loginbtn__8--2g",regbtn:"login_regbtn__2hs0V"}},16:function(e,t,n){e.exports={trackerDesc:"trackerDescription_trackerDesc__36-y1",input:"trackerDescription_input__7mK-9",inputBtn:"trackerDescription_inputBtn__26eem",descList:"trackerDescription_descList__3OTgx",date:"trackerDescription_date__2Ce-q",deleteBtn:"trackerDescription_deleteBtn__1fZch",blind:"trackerDescription_blind__3osT2"}},24:function(e,t,n){e.exports={add:"add_add__2GMyP",input:"add_input__3PRCg",btn:"add_btn__Neqr_",title:"add_title__2Mcw_",example:"add_example__2uGVm",orText:"add_orText__2qdED"}},25:function(e,t,n){e.exports={loginInput:"registerInput_loginInput__3Z4my",input:"registerInput_input__2ZNCG",newInput:"registerInput_newInput__1ssMA"}},26:function(e,t,n){e.exports={newReg:"newRegister_newReg__1nLpw",sysTitle:"newRegister_sysTitle__34MS3",tit:"newRegister_tit__1tEaM",regBtn:"newRegister_regBtn__2wERi"}},33:function(e,t,n){e.exports={header:"header_header__v9FKw",counter:"header_counter__1BAsj",logout:"header_logout__1MXam"}},45:function(e,t,n){},59:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n.n(c),i=n(38),o=n.n(i),r=(n(45),n(32)),s=n(5),u=n(23),l=n(9),j=n(33),d=n.n(j),b=n(1),m=function(e){var t=e.onLogout,n=e.userName;return Object(b.jsxs)("header",{className:d.a.header,children:[Object(b.jsxs)("h2",{children:[n,",",Object(b.jsx)("br",{})," How Was Your Today? \ud83d\ude42"]}),Object(b.jsx)("button",{className:d.a.logout,onClick:t,children:"LOGOUT"})]})},f=n(13),h=n(24),_=n.n(h),p=function(e){var t=e.onAddEmotion,n=Object(c.useRef)(),a=Object(c.useRef)();return Object(b.jsxs)("section",{className:_.a.add,children:[Object(b.jsx)("h3",{className:_.a.title,children:"\uc624\ub298 \ub290\ub080 Emotion\uc744 \ucd94\uac00\ud558\uc138\uc694! \ud83d\udc67\ud83c\udffb"}),Object(b.jsxs)("form",{ref:n,children:[Object(b.jsx)("input",{type:"text",placeholder:"ex) \ub180\ub78c \ud83d\ude32 ",ref:a,className:_.a.input}),Object(b.jsx)("button",{onClick:function(e){e.preventDefault();var c={id:Object(f.a)(),emotion:a.current.value,description:[]};a.current.value&&t(c),n.current.reset()},className:_.a.btn,children:"\ucd94\uac00"})]})]})},O=n(40),g=n(16),x=n.n(g),k=function(e){var t=e.tracker,n=e.onUpdate,a=Object(c.useRef)(),i=Object(c.useRef)();return Object(b.jsx)("form",{onSubmit:function(e){e.preventDefault();var c=[],o=new Date,r={id:Object(f.a)(),text:i.current.value,date:"".concat(o.getFullYear(),".").concat(o.getMonth()+1,".").concat(o.getDate(),".").concat(new Intl.DateTimeFormat("ko-KR",{weekday:"short"}).format(o))};c=t.description?[].concat(Object(O.a)(t.description),[r]):[r];var s=Object(u.a)(Object(u.a)({},t),{},{description:c});r&&n(s),a.current.reset()},ref:a,children:Object(b.jsxs)("div",{className:x.a.trackerDesc,children:[Object(b.jsx)("input",{type:"text",className:x.a.input,placeholder:"\uc65c \uadf8\ub7f0 \uac10\uc815\uc744 \ub290\uaf08\ub098\uc694?",ref:i}),Object(b.jsx)("button",{type:"submit",className:x.a.inputBtn,children:Object(b.jsx)("i",{className:"fas fa-plus"})})]})})},v=Object(c.memo)((function(e){var t=e.tracker,n=e.onUpdate,c=t.description,a=function(e){var a=c.filter((function(t){return t.id!==e.id}));t.description=a,n(t)};return Object(b.jsx)("ul",{className:x.a.descList,children:c.map((function(e){return Object(b.jsx)(N,{desc:e,onDelete:a},Object(f.a)())}))})})),N=function(e){var t=e.desc,n=e.onDelete;return Object(b.jsxs)("li",{children:[t.text,Object(b.jsx)("span",{className:x.a.date,children:t.date}),Object(b.jsx)("button",{type:"button",className:x.a.deleteBtn,onClick:function(){n(t)},children:"X"})]})},y=v,E=function(e){var t=e.tracker,n=e.onUpdate;return Object(b.jsxs)(b.Fragment,{children:[t.description&&Object(b.jsx)(y,{tracker:t,onUpdate:n}),Object(b.jsx)(k,{tracker:t,onUpdate:n})]})},L=n(11),C=n.n(L),w=(n(47),Object(c.memo)((function(e){var t=e.onDelete,n=e.onUpdate,a=e.tracker,i=e.addEmotionCheck;return Object(c.useEffect)((function(){var e=document.getElementById(i);i&&e.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}),[i]),Object(b.jsxs)("li",{id:a.emotionId,children:[Object(b.jsxs)("div",{className:C.a.trackerSection,children:[Object(b.jsx)("div",{className:C.a.trackerName,children:a.emotion}),Object(b.jsx)("div",{className:C.a.count,children:a.description?a.description.length:0}),Object(b.jsx)("button",{type:"button",className:C.a.delete,onClick:function(){t(a)},children:Object(b.jsx)("i",{className:"fas fa-trash-alt"})})]}),Object(b.jsx)("div",{children:Object(b.jsx)(E,{tracker:a,onUpdate:n})})]})}))),D=Object(c.memo)((function(e){var t=e.tracker,n=e.onDelete,c=e.onUpdate,a=e.addEmotionCheck;return Object(b.jsxs)("section",{className:C.a.tracker,children:[Object(b.jsx)("h2",{className:C.a.title,children:Object(b.jsx)("span",{children:"\uc65c \uadf8\ub7f0 Emotion\uc744 \ub290\uaf08\ub098\uc694?"})}),Object(b.jsxs)("p",{className:C.a.guide,children:[Object(b.jsx)("span",{className:C.a.tip,children:"Tip"}),"\ucc9c\ucc9c\ud788 \uc0dd\uac01\ud558\uc5ec \uae30\ub85d\ud574 \ubcf4\uc138\uc694 \u270d\ud83c\udffb"]}),Object(b.jsx)("ul",{className:C.a.trackerList,children:Object.keys(t).map((function(e){return Object(b.jsx)(w,{onDelete:n,onUpdate:c,tracker:t[e],addEmotionCheck:a},e)}))})]})})),I=n(12),S=n.n(I),B=function(e){var t=e.tracker,n=e.emotion,a=e.onUpdate,i=e.onCheck,o=e.onDeleteEmotion,r=e.edit,s=Object(c.useRef)();return Object(b.jsxs)("div",{className:S.a.emotionTag,children:[Object(b.jsx)("button",{type:"button",className:S.a.emotionButton,onClick:function(e){var c=t&&Object.keys(t).filter((function(e){return t[e].emotionId===n.id}));if(c&&c.length>0)alert("\uc774\ubbf8 \ucd94\uac00\ub41c Emotion\uc774\uc5d0\uc694! \ud83d\ude05");else{var o={id:Object(f.a)(),emotion:e.target.innerText,emotionId:n.id,count:0,description:[]};a(o)}i(n.id)},ref:s,children:n.emotion}),r&&Object(b.jsx)("span",{className:S.a.emotionDelete,onClick:function(){o(n)},children:Object(b.jsx)("i",{className:"fas fa-times"})})]})},R=function(e){var t=e.tracker,n=e.emotion,a=e.onUpdate,i=e.onCheck,o=e.onDeleteEmotion,r=Object(c.useState)(!1),s=Object(l.a)(r,2),u=s[0],j=s[1];Object(c.useEffect)((function(){j(!1)}),[]);return Object(b.jsxs)("section",{className:S.a.emotion,children:[Object(b.jsxs)("button",{type:"button",onClick:function(){u&&j(!1),!u&&j(!0)},className:S.a.editBtn,children:[Object(b.jsx)("i",{className:"far fa-edit"}),"Edit ",!0===u?"On":"Off"]}),Object(b.jsx)("h2",{className:S.a.title,children:Object(b.jsxs)("span",{children:["\ucd94\uac00\ud55c Emotion\uc744 \ud074\ub9ad\ud574\ubcf4\uc138\uc694! ",Object(b.jsx)("i",{className:"fas fa-heartbeat"})]})}),Object(b.jsxs)("h3",{className:S.a.guide,children:[Object(b.jsx)("span",{className:S.a.tip,children:"Tip"}),"Emotion\uc744 \ud074\ub9ad\ud558\uba74 \uac10\uc815\uc744 \uc0c1\uc138\ud558\uac8c \uc791\uc131\ud560 \uc218 \uc788\uc5b4\uc694!"]}),Object(b.jsx)("ul",{className:S.a.emotionList,children:Object.keys(n).map((function(e){return Object(b.jsx)("li",{children:Object(b.jsx)(B,{tracker:t,emotion:n[e],onUpdate:a,onCheck:i,onDeleteEmotion:o,edit:u})},n[e].id)}))})]})},U=function(e){var t=e.firebase,n=e.authService,a=Object(c.useState)(),i=Object(l.a)(a,2),o=i[0],r=i[1],j=Object(c.useState)(),d=Object(l.a)(j,2),h=d[0],_=d[1],O=Object(c.useState)(),g=Object(l.a)(O,2),x=g[0],k=g[1],v=Object(c.useState)(),N=Object(l.a)(v,2),y=N[0],E=N[1],L=Object(c.useState)(),C=Object(l.a)(L,2),w=C[0],I=C[1],S=Object(s.f)();Object(c.useEffect)((function(){n.onAuthChange((function(e){e?(k(e.uid),E(e.displayName?e.displayName:e.email)):S.push("/")}))})),Object(c.useEffect)((function(){var e=t.load((function(e){r(e)}),"tracker",x);return function(){return e()}}),[t,x]),Object(c.useEffect)((function(){var e=t.load((function(e){_(e)}),"emotion",x);return function(){return e()}}),[t,x]);var B=function(e){r((function(t){var n=Object(u.a)({},t);return n[e.id]=e,n})),t.save(e,x)};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(m,{onLogout:function(){n.logout()},userName:y}),Object(b.jsx)(p,{onAddEmotion:function(e){var n={id:Object(f.a)(),emotion:e.emotion};t.saveEmotion(n,x)}}),h&&Object(b.jsx)(R,{tracker:o,emotion:h,onUpdate:B,onCheck:function(e){e&&I(e)},onDeleteEmotion:function(e){_((function(t){Object.keys(t).filter((function(t){return t===e.id}))})),t.removeEmotion(e,x)}}),o&&Object(b.jsx)(D,{tracker:o,onDelete:function(e){r((function(t){Object.keys(t).filter((function(t){return t!==e.id}))})),t.remove(e,x)},onUpdate:B,addEmotionCheck:w})]})},T=n(15),A=n.n(T),M=n(25),G=n.n(M);function F(e){return"newInput"===e?G.a.newInput:"loginInput"===e?G.a.loginInput:void 0}var P=function(e){var t=e.onGetRef,n=e.onLogin,a=e.styleName,i=Object(c.useRef)(),o=Object(c.useRef)(),r=function(){i.current.value&&o.current.value&&t(i.current.value,o.current.value)};return Object(b.jsxs)("div",{className:"".concat(F(a)),onKeyPress:function(e){"Enter"===e.key&&n()},children:[Object(b.jsx)("input",{type:"email",ref:i,placeholder:"email",onChange:r,className:G.a.input}),Object(b.jsx)("input",{type:"password",ref:o,placeholder:"password",onChange:r,className:G.a.input})]})},W=function(e){var t=e.authService,n=Object(s.f)(),a=Object(c.useState)(),i=Object(l.a)(a,2),o=i[0],r=i[1],u=function(e){n.push({pathname:"/emotion",state:{id:e}})};Object(c.useEffect)((function(){t.onAuthChange((function(e){e&&u(e.uid)}))}));var j=function(e){t.login(e.target.outerText).then((function(e){u(e.user.uid)})).catch((function(e){var t=e.message;console.log(t)}))},d=function(){o&&t.onAccountLogin(o.email,o.password).then((function(e){u(e.user.uid)})).catch((function(e){alert(e.message)}))};return Object(b.jsx)("div",{className:A.a.login,children:Object(b.jsxs)("section",{className:A.a.box,children:[Object(b.jsx)("h2",{children:"Your Emotion \ud83d\ude09"}),Object(b.jsx)(P,{authService:t,onGetRef:function(e,t){r({email:e,password:t})},styleName:"loginInput",onLogin:d}),Object(b.jsx)("button",{type:"button",onClick:function(){n.push({pathname:"/register"})},className:A.a.regbtn,children:"Join"}),Object(b.jsx)("button",{type:"button",onClick:d,className:A.a.loginbtn,children:"Login"}),Object(b.jsx)("span",{className:A.a.otherTxt,children:"Or Sign Up Using"}),Object(b.jsxs)("div",{className:A.a.otherLogin,children:[Object(b.jsxs)("button",{type:"button",onClick:j,className:A.a.googleBtn,children:[Object(b.jsx)("i",{className:"fab fa-google"}),"Google"]}),Object(b.jsxs)("button",{type:"button",onClick:j,className:A.a.githubBtn,children:[Object(b.jsx)("i",{className:"fab fa-github"}),"Github"]})]})]})})},Y=n(26),K=n.n(Y),Z=function(e){var t=e.authService,n=Object(c.useState)(),a=Object(l.a)(n,2),i=a[0],o=a[1],r=Object(s.f)();return Object(b.jsxs)("section",{className:K.a.newReg,children:[Object(b.jsxs)("div",{className:K.a.tit,children:[Object(b.jsx)("h1",{className:K.a.sysTitle,children:"Your Emotion"}),Object(b.jsx)("span",{children:"\ud83d\ude09"})]}),Object(b.jsx)(P,{authService:t,onGetRef:function(e,t){o({email:e,password:t})},styleName:"newInput"}),Object(b.jsx)("button",{type:"button",className:K.a.regBtn,onClick:function(){i&&t.onAccountRegist(i.email,i.password).then((function(e){var t;t=e.user.uid,r.push({pathname:"/emotion",state:{id:t}})})).catch((function(e){alert(e.message)}))},children:"Join"})]})};var q=function(e){var t=e.firebase,n=e.authService;return Object(b.jsx)(r.a,{basename:"/emotionTracker",children:Object(b.jsxs)(s.c,{children:[Object(b.jsx)(s.a,{exact:!0,path:["/","/login"],children:Object(b.jsx)(W,{authService:n})}),Object(b.jsx)(s.a,{path:"/register",children:Object(b.jsx)(Z,{authService:n})}),Object(b.jsx)(s.a,{path:"/emotion",children:Object(b.jsx)(U,{firebase:t,authService:n})})]})})},J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,60)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),i(e),o(e)}))},V=n(28),z=n(29),X=n(20),Q=(n(54),n(57),X.a.initializeApp({apiKey:"AIzaSyC64PNNqG6bE1g9n_9ZMetR0i8VanELn_I",authDomain:"emotion-tracker-46878.firebaseapp.com",projectId:"emotion-tracker-46878",storageBucket:"emotion-tracker-46878.appspot.com",appId:"1:1004907245469:web:764dab67c2c7af9e624974",measurementId:"G-VQ13W4YGME",databaseURL:"https://emotion-tracker-46878-default-rtdb.firebaseio.com/"})),H=Q.database(),$=Q.auth(),ee=function(){function e(){Object(V.a)(this,e)}return Object(z.a)(e,[{key:"save",value:function(e,t){H.ref("users/".concat(t,"/tracker/").concat(e.id)).set(e)}},{key:"load",value:function(e,t,n){var c=H.ref("users/".concat(n,"/").concat(t));return c.on("value",(function(t){var n=t.val();n&&e(n)})),function(){return c.off()}}},{key:"remove",value:function(e,t){H.ref("users/".concat(t,"/tracker/").concat(e.id)).remove()}},{key:"saveEmotion",value:function(e,t){H.ref("users/".concat(t,"/emotion/").concat(e.id)).set(e)}},{key:"removeEmotion",value:function(e,t){H.ref("users/".concat(t,"/emotion/").concat(e.id)).remove()}}]),e}(),te=function(){function e(){Object(V.a)(this,e)}return Object(z.a)(e,[{key:"login",value:function(e){var t=new(X.a.auth["".concat(e,"AuthProvider")]);return $.signInWithPopup(t)}},{key:"onAccountRegist",value:function(e,t){return $.createUserWithEmailAndPassword(e,t)}},{key:"onAccountLogin",value:function(e,t){return $.signInWithEmailAndPassword(e,t)}},{key:"onAuthChange",value:function(e){X.a.auth().onAuthStateChanged((function(t){e(t)}))}},{key:"logout",value:function(){X.a.auth().signOut()}}]),e}(),ne=new ee,ce=new te;o.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(q,{firebase:ne,authService:ce})}),document.getElementById("root")),J()}},[[59,1,2]]]);
//# sourceMappingURL=main.515a7ac5.chunk.js.map